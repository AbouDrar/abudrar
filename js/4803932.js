function m(e=".download-file"){let a=document.querySelectorAll(e);a.length&&a.forEach(c=>{c.addEventListener("click",l=>{l.preventDefault();let n=l.target,t=n.dataset.site||"",o=n.dataset.url||"";if(!t){alert("Download website is unknown");return}let i="/p/download.html?website="+t;o&&(i+="&slug="+o),window.location.href=i})})}function h(e){if(!e)return;let a=e.querySelector(":scope>button"),c=e.querySelector('[data-element="text_container"]'),l=e.querySelector('[data-element="placeholder"]'),n=Number(e.dataset.initvalue||10),t=n,o=!1,i=r=>{l&&(l.innerText=r.toString())},f=()=>{if(o)return;o=!0;let r=new URLSearchParams(window.location.search),s="";if(r.forEach((u,d)=>{d==="website"?s+=u:d==="slug"?s+=u.substring(12):s+=`&${d}=${u}`}),!s){alert("The link is broken");return}i(n),c.style.display="block";let w=setInterval(()=>{t--,i(t),t<=0&&(clearInterval(w),o=!1,t=n,c.style.display="none",window.location.href=s)},1e3)};a.addEventListener("click",r=>{r.preventDefault(),f()})}{let e=document.querySelector("#countdown-container");e&&h(e),m()}
