(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();let x=null;function b(t=void 0){if(!x){const e=document.querySelector("#blog-json-data");if(e){const s=JSON.parse(e.textContent);s&&(x=s)}}return x?t?x[t]:x:null}function S(t){let e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild?.cloneNode(!0)||void 0}function P(t,e){const s=new ResizeObserver(o=>{for(let n of o){const r=n.contentRect;e(r)}});return s.observe(t),s}function w(t,e,s=!0,o=.2){new IntersectionObserver((r,l)=>{r.forEach(a=>{if(a.isIntersecting){const i=a.target;e&&typeof e=="function"&&e(i),s&&l.unobserve(i)}})},{rootMargin:"0px 0px 50px 0px",threshold:o}).observe(t)}function L(t){if(!(t instanceof HTMLElement))return;let e;const s=o=>{o.dataset.src&&(["loader","lazy"].forEach(r=>{o.classList.contains(r)&&o.classList.remove(r)}),o.setAttribute("src",o.dataset.src),o.removeAttribute("data-src"))};w(t,o=>{clearTimeout(e),e=setTimeout(()=>{s(o)},500)})}function I(t){const e=t.parentElement;if(!e)return;let s=null;const o=n=>{let r=15;n<=520?r=2:n<=640?r=3:n<=768?r=4:n<=1024?r=7:n<=1168&&(r=8),t.querySelectorAll(":scope>*").forEach((a,i)=>{i+1>r?a.style.display="none":a.style.display=""})};P(e,n=>{s&&clearTimeout(s),s=setTimeout(()=>o(n?.width||0),700)})}const C=t=>t?new Date(t).toLocaleDateString("fr"):"",E=(t=void 0)=>S(`<div ${t?t.join(" "):""} class="justify-center">
          <div class="w-5 aspect-square m-2 animate-spin rounded-full border-2 border-gray-300 border-t-zinc-600"></div>
      </div>`);function A(t,e,s=0){const o=e.content.firstElementChild?.cloneNode(!0);if(!o)return null;const n=o.querySelector('[data-container="post_thumbnail"]');let r="";return t.images.length&&(r=t.images[0].url||"",s>0&&(r=R(r,s))),r?n?.querySelector("img")?.setAttribute("src",r):n?.remove(),o.querySelectorAll('[data-container="post_url"]').forEach(a=>{a.href=t.url||"#"}),o.querySelector('[data-container="post_title"]>a').textContent=t.title||"No title",o.querySelector('[data-container="post_date"]>span').textContent=C(t.published||""),o}function R(t,e){return/\/w\d+-h\d+\//.test(t)?t.replace(/\/w\d+-h\d+\//,`/s${e}/`):t.replace(/\/s\d+\//,`/s${e}/`)}function N(){const t=b("removeFirstImageIn");if(!t||!Array.isArray(t)||t.length===0)return;document.querySelectorAll(t.join(",")).forEach(s=>{s.querySelector("img")?.remove()})}function $(t){const e=Uint8Array.from(atob(t),s=>s.charCodeAt(0));return new TextDecoder("utf-8").decode(e)}function _(){const t=b("downloadButtonsSelector"),e=b("messages")?.unknownWebsite||"unknown website";if(!t)return;document.querySelectorAll(t).forEach(o=>{o.addEventListener("click",n=>{n.preventDefault();const r=n.target,l=r.dataset.site||"",a=r.dataset.path||r.dataset.url||"",i=r.dataset.url||"";if(!l){alert(e);return}let d="/p/download.html?website="+l;a?d+="&path="+a:i&&(d+=`&url=${i}`),window.location.href=d})})}function B(){const t=b("countdownContainerSelector");if(!t)return;const e=document.querySelector(t);if(!e)return;const s=e.querySelector("button"),o=e.querySelector('[data-element="text_container"]'),n=e.querySelector('[data-element="placeholder"]'),r=Number(e.dataset.initvalue||10);let l=r,a=!1;const i=m=>{n&&(n.innerText=m.toString())},d=()=>{if(a)return;a=!0;const m=new URLSearchParams(window.location.search);let f="",p=!0;if(m.forEach((y,g)=>{g==="website"?f+=y:g==="path"||g==="url"?(f+=y.substring(12),g==="url"&&(p=!1)):f+=`&${g}=${y}`}),!f){alert("The link is broken");return}p&&(f=$(f)),i(r),o.style.display="block";const v=setInterval(()=>{l--,i(l),l<=0&&(clearInterval(v),a=!1,l=r,o.style.display="none",window.location.href=f)},1e3)};s?.addEventListener("click",m=>{m.preventDefault(),d()})}function q(t="list",e={maxResults:10,fetchImages:!0,getNextPageToken:!1}){const s=b("blogId")||"",o=b("bloggerApiKey")||"";(!s||!o)&&console.error("Blogger api key and/or blog ID is missing");let n=`https://www.googleapis.com/blogger/v3/blogs/${s}/posts`;t==="search"&&(n+="/search"),n+=`?key=${o}`,t==="search"?n+=`&q=${e.query||""}`:e.labels&&e.labels.length>0&&(n+=`&labels=${e.labels.join(",")}`),t!=="search"&&(n+=`&maxResults=${e.maxResults||10}`,n+=`&fetchImages=${e.fetchImages?"true":"false"}`),n+=`&fetchBodies=${e.fetchBodies?"true":"false"}`,e.nextPageToken&&t!=="search"&&(n+=`&pageToken=${e.nextPageToken}`);const r=[];e.fields&&Array.isArray(e.fields)&&e.fields.length>0&&r.push(`items(${e.fields.join(",")})`),e.getNextPageToken&&r.push("nextPageToken"),r.length&&(n+=`&fields=${r.join(",")}`),fetch(n).then(l=>l.json()).then(l=>{e.onSuccess&&e.onSuccess(l)}).catch(l=>{e.onError&&e.onError(l)}).finally(()=>{e.onFinally&&e.onFinally()})}function j(){const t=document.querySelector("#category-template-type-2"),e=document.querySelector("#post-card-template"),s=document.querySelector("#index-post-row-template");if(!t)return;const o=document.querySelectorAll('[data-category-type="1"]'),n=(a,i,d,m)=>{const f=t.content.firstElementChild?.cloneNode(!0);if(!f)return;f.querySelector('[data-container="title"]').textContent=i,f.querySelector('[data-container="category_link"]').href="/search?category="+a;const p=f.querySelector("[data-type='single']"),v=f.querySelector("[data-type='multiple']");!e||!s||(d.forEach((y,g)=>{if(g===0){const u=A(y,e,550);u&&p?.append(u)}else{const u=A(y,s,300);u&&v?.append(u)}}),m.insertAdjacentElement("beforebegin",f))},r=(a,i,d,m)=>{q("list",{labels:[d],maxResults:m,fields:["images","title","url","published"],fetchImages:!0,fetchBodies:!1,onSuccess:f=>{f.items&&n(d,i,f.items,a)},onFinally:()=>a.remove()})},l=E();o.forEach(a=>{a.classList.add("flex","items-start","justify-center","min-h-[70vh]","w-full"),l&&a.append(l.cloneNode(!0)),w(a,i=>{const d=i.dataset.category,m=i.dataset.title,f=i.dataset.maxResults||"5";d?r(i,m||"No title",d,Number(f)):i.remove()},!0,.3)})}function M(){const t=document.querySelector('[data-observe-for="recent_posts"]'),e=document.querySelector("#latest-posts-template"),s=document.querySelector("#index-post-row-template");if(!e||!t)return;const o=(r,l)=>{const a=e.content.firstElementChild?.cloneNode(!0);if(!a)return;a.querySelector('[data-container="title"]').textContent=r,a.querySelector('[data-container="more_posts_link"]').href="/search";const i=a.querySelector("[data-element='posts_container']");!i||!s||(l.forEach(d=>{const m=A(d,s,250);m&&i?.append(m)}),t.insertAdjacentElement("beforebegin",a))},n=(r,l)=>{q("list",{maxResults:l,fields:["images","title","url","published"],fetchImages:!0,fetchBodies:!1,onSuccess:a=>{a.items&&o(r,a.items)}})};w(t,r=>{const l=r.dataset.title,a=r.dataset.maxResults||"5";n(l||"No title",Number(a))})}function D(t,e){const s=e.content.firstElementChild?.cloneNode(!0);if(!s)return null;const o=s.querySelector('[data-container="post_thumbnail"]');let n="";return t.images.length&&(n=t.images[0].url||""),n?o?.querySelector("img")?.setAttribute("src",n):o?.remove(),s.querySelectorAll('[data-container="post_url"]').forEach(l=>{l.href=t.url||"#"}),s.querySelector('[data-container="post_title"]>a').textContent=t.title||"No title",s.querySelector('[data-container="post_date"]>span').textContent=C(t.published||""),s}function O(){const t=document.querySelector("#index-post-row-template"),e=document.querySelector("[data-element='recent_posts_container']");if(!t||!e)return;const s=document.querySelector('[data-element="recent_posts_controller"]');let o=s?.querySelector('[data-spinner="recent_posts"]')||null;const n=s?.querySelector("button")||null;let r="",l=!0,a=!1;const d=new URLSearchParams(window.location.search||"").get("category")?.split(",")||[],m=c=>{const h=D(c,t);h&&e.append(h)},f=(c=!0)=>{o||(o=E(['data-spinner="recent_posts"']),o&&s&&s.prepend(o)),o&&o.classList.toggle("hidden",!c)},p=c=>n?.classList.toggle("hidden",!c),v=["images","title","url","published"],y=b("messages")?.noMorePostsFound||"n/a",g=()=>{n?.classList.add("hidden");const c=S(`<p class="text-center p-2 text-red-500">${y}</p>`);c&&s?.append(c)},u=()=>{a||!l||(f(),p(!1),a=!0,q("list",{fetchBodies:!1,fetchImages:!0,fields:v,maxResults:10,getNextPageToken:!0,nextPageToken:r||"",labels:d,onSuccess:c=>{c.nextPageToken&&c.nextPageToken!==r?(r=c.nextPageToken,p(!0)):(l=!1,p(!1),g()),c.items&&Array.isArray(c.items)&&c.items.forEach(h=>{m(h)})},onFinally:()=>{a=!1,f(!1)}}))};n?.addEventListener("click",c=>{c.preventDefault(),u()}),n&&w(n,()=>{u()},!0)}function F(t=".html-injection-template"){document.querySelectorAll(t).forEach(s=>{const o=s.innerHTML,n=s.dataset.position||"afterbegin";let r=s.dataset.container?document.querySelector(s.dataset.container):null;!r&&s.dataset.containerAlt&&(r=document.querySelector(s.dataset.containerAlt)),!(!r||!o||!["beforebegin","afterbegin","beforeend","afterend"].includes(n))&&r.insertAdjacentHTML(n,o)})}function V(t="#related-posts-template"){const e=document.querySelector(t),s=document.querySelector('[data-observe-for="related_posts"]'),o=s?.dataset.label?.replace(/\s+/g,"").split(",")||[];if(!e||!s||o.length<=0)return;const n=s?.dataset.postId||"",r=i=>{let d='<div class="flex gap-2 p-1">';if(i.images?.length){const f=i.images[0].url||"";f&&(d+=`<div class="min-w-20 w-20 aspect-square flex justify-center items-center overflow-hidden rounded"><a href="${i.url||"#"}" class="block w-full h-full"><img loading="lazy" src="${f}" class="object-cover h-full min-w-full hover-scale-up"/></a></div>`)}const m=C(i.published||"");return d+=`<div class="flex-auto"><a href="${i.url||"#"}" class="block hover:text-amber-400">${i.title||"no title"}</a><div><span>${m}</span></div></div></div>`,S(d)},l=i=>{const d=S('<div class="flex flex-col divide-y divide-neutral-300"></div>');if(!d||!i.length)return;const m=e.content.firstElementChild?.cloneNode(!0);i.forEach(f=>{const p=r(f);p&&d.append(p)}),m?.appendChild(d),m&&s.insertAdjacentElement("afterend",m)};s.classList.add("flex","items-start","justify-center","min-h-[60vh]","w-full");const a=E();a&&s.append(a),w(s,()=>{q("list",{fields:["title","url","images","published","id"],fetchBodies:!1,fetchImages:!0,maxResults:6,labels:o,onSuccess:i=>{let d=i.items||[];n&&(d=d.filter(m=>m.id!==n)),d.length&&l(d)},onError:i=>{console.log(i)},onFinally:()=>s.remove()})},!0,.3)}const z=(t=".search-box")=>{const e=document.querySelector(t);if(!e)return;const s=e.querySelector("input");let o=e.dataset.visible==="true",n=null;const r=document.querySelectorAll('[data-trigger-for="search_box"]'),l=e.querySelector("[data-results]"),a=u=>{e.setAttribute("data-visible",u?"true":"false"),o=u},i=()=>{if(l?.querySelector("[data-spinner]"))return;const u=E(["data-spinner"]);u&&l?.append(u)},d=u=>{e.setAttribute("data-results-visible",u?"true":"false")},m=u=>{e.setAttribute("data-spinner-visible",u?"true":"false")},f=u=>{const c=u.match(/<img[^>]+src="([^">]+)"/);return c?c[1].replace("/s1600/","/s150/"):""},p=u=>{let c='<div class="flex gap-2 w-full py-2">';const h=f(u.content||"");return h&&(c+=`<div class="thumbnail min-w-20 w-20 aspect-square rounded overflow-hidden ms-2"><a href="${u.url||"#"}" class="w-full h-full"><img src="${h}" class="object-cover min-h-full min-w-full hover-scale-up"/></a></div>`),c+=`<div class="flex-auto"><a href="${u.url||"#"}" class="block pe-2">${u.title||"No title"}</a></div>`,c+="</div>",S(c)},v=u=>{const c=S('<div class="flex flex-col divide-y w-full divide-neutral-400 pt-2"></div>');c&&(u.forEach(h=>{const T=p(h);T&&c.append(T)}),l?.append(c))},y=b("messages")?.searchNoResults??"N/A",g=()=>{const u=S(`<p class="text-red-500 text-center w-full p-2">${y}</p>`);u&&l?.append(u)};i(),r.forEach(u=>{u.addEventListener("click",c=>{c.preventDefault();const h=c.target;a(h?.dataset.action!=="close")})}),document.addEventListener("click",u=>{const c=u.target;c&&c&&o&&!e?.contains(c)&&c.dataset.triggerFor!=="search_box"&&(d(!1),a(!1))}),s?.addEventListener("input",u=>{const c=u.target?.value||"";n&&clearTimeout(n),n=setTimeout(()=>{if(!c){d(!1);return}m(!0),d(!0),q("search",{query:c,fields:["title","url","published","content"],fetchBodies:!0,onSuccess:h=>{h&&Array.isArray(h.items)?v(h.items):g()},onFinally:()=>{m(!1)}}),l?.querySelector(":scope>:not([data-spinner])")?.remove()},1e3)})},k=document.querySelector('[data-elememt="nav_list"]');k&&I(k);const H=t=>{const e=document.querySelector(t);if(!e)return;const s=document.querySelectorAll('[data-trigger-for="sidenav"]'),o=n=>e.setAttribute("data-visible",n?"true":"false");s.forEach(n=>{n.addEventListener("click",r=>{r.preventDefault();const l=r.target?.dataset.triggerType==="close";o(!l)})})};function U(){const t=localStorage.getItem("theme")||"system",e=document.querySelectorAll('[name="theme_switcher"]'),s=o=>{document.documentElement.setAttribute("data-theme",o)};(t==="dark"||t==="light"||t==="system")&&s(t),e.forEach(o=>{t===o.value&&(o.checked=!0),o.addEventListener("change",n=>{const r=n.target;r.checked&&["system","dark","light"].includes(r.value)&&(s(r.value),localStorage.setItem("theme",r.value))})})}document.addEventListener("DOMContentLoaded",()=>{U(),z(),H('[data-element="sidenav"]'),V(),O(),j(),M(),N(),_(),F(),B(),document.querySelectorAll('img[data-lazy="true"]').forEach(t=>{L(t)})});
