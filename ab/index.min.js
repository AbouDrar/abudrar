(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function c(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=c(t);fetch(t.href,r)}})();function p(l="list",e={maxResults:10,fetchImages:!0}){const c=document.head.querySelector('meta[name="blog_id"]')?.getAttribute("content")||"",s=document.head.querySelector('meta[name="blogger_api_key"]')?.getAttribute("content")||"";if(!c||!s)return;let t=`https://www.googleapis.com/blogger/v3/blogs/${c}/posts`;l==="search"&&(t+="/search"),t+=`?key=${s}`,l==="search"&&(t+=`&q=${e.query||""}`),t+=`&maxResults=${e.maxResults||10}`,t+=`&fetchImages=${e.fetchImages?"true":"false"}`,t+=`&fetchBodies=${e.fetchBodies?"true":"false"}`,e.fields&&Array.isArray(e.fields)&&e.fields.length>0&&(t+=`&fields=items(${e.fields.join(",")})`),fetch(t).then(r=>r.json()).then(r=>{e.onSuccess&&e.onSuccess(r)}).catch(r=>{e.onError&&e.onError(r)}).finally(()=>{e.onFinally&&e.onFinally()})}function m(l){let e=document.createElement("template");return e.innerHTML=l,e.content.firstElementChild?.cloneNode(!0)||void 0}function q(l,e){const c=new ResizeObserver(s=>{for(let t of s){const r=t.contentRect;e(r)}});return c.observe(l),c}function y(l,e,c=!0,s=.2){new IntersectionObserver((r,n)=>{r.forEach(o=>{if(o.isIntersecting){const u=o.target;e&&typeof e=="function"&&e(u),c&&n.unobserve(u)}})},{rootMargin:"0px 0px 50px 0px",threshold:s}).observe(l)}function w(l){if(!(l instanceof HTMLElement))return;let e;const c=s=>{s.dataset.src&&(["loader","lazy"].forEach(r=>{s.classList.contains(r)&&s.classList.remove(r)}),s.setAttribute("src",s.dataset.src),s.removeAttribute("data-src"))};y(l,s=>{clearTimeout(e),e=setTimeout(()=>{c(s)},500)})}function A(l){const e=l.parentElement;if(!e)return;let c=null;const s=t=>{let r=15;t<=520?r=2:t<=640?r=3:t<=768?r=4:t<=1024?r=7:t<=1168&&(r=8),l.querySelectorAll(":scope>*").forEach((o,u)=>{u+1>r?o.style.display="none":o.style.display=""})};q(e,t=>{c&&clearTimeout(c),c=setTimeout(()=>s(t?.width||0),700)})}const g=document.querySelector('[data-elememt="nav_list"]');g&&A(g);const L=(l=".search-box")=>{const e=document.querySelector(l);if(!e)return;const c=e.querySelector("input");let s=e.dataset.visible==="true",t=null;const r=document.querySelectorAll('[data-trigger-for="search_box"]'),n=e.querySelector("[data-results]"),o=i=>{e.setAttribute("data-visible",i?"true":"false"),s=i},u=()=>{if(n?.querySelector("[data-spinner]"))return;const i=m(`<div data-spinner class="justify-center">
          <div class="w-5 aspect-square m-2 animate-spin rounded-full border-2 border-gray-300 border-t-zinc-600"></div>
      </div>`);i&&n?.append(i)},d=i=>{e.setAttribute("data-results-visible",i?"true":"false")},h=i=>{e.setAttribute("data-spinner-visible",i?"true":"false")},b=i=>{const a=i.match(/<img[^>]+src="([^">]+)"/);return a?a[1].replace("/s1600/","/s150/"):""},x=i=>{let a='<div class="flex gap-2 w-full py-2">';const f=b(i.content||"");return f&&(a+=`<div class="thumbnail min-w-20 w-20 aspect-square rounded overflow-hidden ms-2">
            <a href="${i.url||"#"}" class="w-full h-full"
              ><img
                src="${f}" class="object-cover min-h-full min-w-full hover-scale-up"
            /></a>
          </div>`),a+=`
        <div class="flex-auto">
            <a href="${i.url||"#"}" class="block pe-2"
      >${i.title||"No title"}</a>
          </div>
        `,a+="</div>",m(a)},S=i=>{const a=m('<div class="flex flex-col divide-y w-full divide-neutral-400 pt-2"></div>');a&&(i.forEach(f=>{const v=x(f);v&&a.append(v)}),n?.append(a))},E=()=>{const i=m('<p class="text-red-500 text-center w-full p-2">لم يتم العثور على أية نتائج</p>');i&&n?.append(i)};u(),r.forEach(i=>{i.addEventListener("click",a=>{a.preventDefault(),o(!0)})}),document.addEventListener("click",i=>{const a=i.target;a&&a&&s&&!e?.contains(a)&&a.dataset.triggerFor!=="search_box"&&(d(!1),o(!1))}),c?.addEventListener("input",i=>{const a=i.target?.value||"";t&&clearTimeout(t),t=setTimeout(()=>{if(!a){d(!1);return}h(!0),d(!0),p("search",{query:a,fields:["title","url","published","content"],fetchBodies:!0,onSuccess:f=>{f&&Array.isArray(f.items)?S(f.items):E()},onFinally:()=>{h(!1)}}),n?.querySelector(":scope>:not([data-spinner])")?.remove()},1e3)})},I=l=>{const e=document.querySelector(l);if(!e)return;const c=document.querySelectorAll('[data-trigger-for="sidenav"]'),s=t=>e.setAttribute("data-visible",t?"true":"false");c.forEach(t=>{t.addEventListener("click",r=>{r.preventDefault();const n=r.target?.dataset.triggerType==="close";s(!n)})})};function $(){const l=localStorage.getItem("theme")||"system",e=document.querySelectorAll('[name="theme_switcher"]'),c=s=>{document.documentElement.setAttribute("data-theme",s)};(l==="dark"||l==="light"||l==="system")&&c(l),e.forEach(s=>{l===s.value&&(s.checked=!0),s.addEventListener("change",t=>{const r=t.target;r.checked&&["system","dark","light"].includes(r.value)&&(c(r.value),localStorage.setItem("theme",r.value))})})}function O(l="#related-posts-template"){const e=document.querySelector(l),c=document.querySelector('[data-observe-for="related_posts"]'),s=e?.dataset.labels?.split(",")||[];if(console.log(s),!e||!c||s.length<=0)return;const t=n=>{let o='<div class="flex gap-2 p-1">';if(n.images?.length){const d=n.images[0].url||"";d&&(o+=`<div class="min-w-20 w-20 aspect-square flex justify-center items-center overflow-hidden rounded"><a href="${n.url||"#"}" class="block w-full h-full"><img src="${d}" class="object-cover h-full min-w-full hover-scale-up"/></a></div>`)}const u=n.published?new Date(n.published).toLocaleDateString("fr"):"";return o+=`<div class="flex-auto"><a href="${n.url||"#"}" class="block hover:text-amber-400">${n.title||"no title"}</a><div><span>${u}</span></div></div></div>`,m(o)},r=n=>{const o=m('<div class="flex flex-col divide-y divide-neutral-300"></div>');if(!o||!n.length)return;const u=e.content.firstElementChild?.cloneNode(!0);n.forEach(d=>{const h=t(d);h&&o.append(h)}),u?.appendChild(o),u&&e.after(u)};y(c,()=>{p("list",{fields:["title","url","images","published"],fetchBodies:!1,fetchImages:!0,maxResults:6,onSuccess:n=>{const o=n.items||[];o.length&&r(o)},onError:n=>{console.log(n)}})})}document.addEventListener("DOMContentLoaded",()=>{$(),L(),I('[data-element="sidenav"]'),O(),document.querySelectorAll('img[data-lazy="true"]').forEach(l=>{w(l)})});
