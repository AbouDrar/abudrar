<!DOCTYPE html>
<html>
<head>
    <title>download page</title>
</head>
<body>
<button onClick=download_timer()>download now!</button>
<div id="countdown_seconds"></div>
  <script type="text/javascript">  
    // Total seconds to wait
    var seconds = 10;
      function download_timer() {
        seconds = seconds - 1;
        if (seconds < 0) {
            // retrieve Download link 
       var mainLink = localStorage.getItem("TheDwnloadLink");
       localStorage.removeItem("TheDwnloadLink");
       // open the download link if there is a link
       if(mainLink != null){
            window.location = mainLink;
       }else{
           document.getElementById("countdown_seconds").innerHTML = "there is no link! you should click a downloadable link";
       }
           
        } else {
            // Update remaining seconds
            document.getElementById("countdown_seconds").innerHTML = "Automatically file will be downloaded in " + seconds + " seconds.";
            // Countdown wait time is 1 second
            window.setTimeout("download_timer()", 1000);
        }
    }
    </script>
</body>
</html>
